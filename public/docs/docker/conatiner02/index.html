<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head><script src="/nirpendra.kumar/mypersonal-doc.git/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=nirpendra.kumar/mypersonal-doc.git/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.2">
    <meta name="generator" content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862">
    <meta name="description" content="Open Container Initiative (OCI) and Container Standards What is OCI? The Open Container Initiative (OCI) is an open governance project under the Linux Foundation started in 2015. It creates open standards for container formats and runtimes to ensure interoperability and portability across container platforms.
Key OCI Specifications OCI Image Format Specification
Defines a standard image format including layers, manifests, and metadata so images are portable across tools.
OCI Runtime Specification
Defines how to run containers using namespaces, cgroups, hooks, and other OS features.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="OCI :: My Doc">
    <meta name="twitter:description" content="Open Container Initiative (OCI) and Container Standards What is OCI? The Open Container Initiative (OCI) is an open governance project under the Linux Foundation started in 2015. It creates open standards for container formats and runtimes to ensure interoperability and portability across container platforms.
Key OCI Specifications OCI Image Format Specification
Defines a standard image format including layers, manifests, and metadata so images are portable across tools.
OCI Runtime Specification
Defines how to run containers using namespaces, cgroups, hooks, and other OS features.">
    <meta property="og:url" content="http://localhost:1313/nirpendra.kumar/mypersonal-doc.git/docs/docker/conatiner02/index.html">
    <meta property="og:site_name" content="My Doc">
    <meta property="og:title" content="OCI :: My Doc">
    <meta property="og:description" content="Open Container Initiative (OCI) and Container Standards What is OCI? The Open Container Initiative (OCI) is an open governance project under the Linux Foundation started in 2015. It creates open standards for container formats and runtimes to ensure interoperability and portability across container platforms.
Key OCI Specifications OCI Image Format Specification
Defines a standard image format including layers, manifests, and metadata so images are portable across tools.
OCI Runtime Specification
Defines how to run containers using namespaces, cgroups, hooks, and other OS features.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="My Docs">
    <meta itemprop="name" content="OCI :: My Doc">
    <meta itemprop="description" content="Open Container Initiative (OCI) and Container Standards What is OCI? The Open Container Initiative (OCI) is an open governance project under the Linux Foundation started in 2015. It creates open standards for container formats and runtimes to ensure interoperability and portability across container platforms.
Key OCI Specifications OCI Image Format Specification
Defines a standard image format including layers, manifests, and metadata so images are portable across tools.
OCI Runtime Specification
Defines how to run containers using namespaces, cgroups, hooks, and other OS features.">
    <meta itemprop="wordCount" content="1518">
    <title>OCI :: My Doc</title>
    <link href="../../../nirpendra.kumar/mypersonal-doc.git/css/auto-complete/auto-complete.min.css?1757062749" rel="stylesheet">
    <script src="../../../nirpendra.kumar/mypersonal-doc.git/js/auto-complete/auto-complete.min.js?1757062749" defer></script>
    <script src="../../../nirpendra.kumar/mypersonal-doc.git/js/search-lunr.js?1757062749" defer></script>
    <script src="../../../nirpendra.kumar/mypersonal-doc.git/js/search.js?1757062749" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="../../../searchindex.en.js?1757062749";
    </script>
    <script src="../../../nirpendra.kumar/mypersonal-doc.git/js/lunr/lunr.min.js?1757062749" defer></script>
    <script src="../../../nirpendra.kumar/mypersonal-doc.git/js/lunr/lunr.stemmer.support.min.js?1757062749" defer></script>
    <script src="../../../nirpendra.kumar/mypersonal-doc.git/js/lunr/lunr.multi.min.js?1757062749" defer></script>
    <script src="../../../nirpendra.kumar/mypersonal-doc.git/js/lunr/lunr.en.min.js?1757062749" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="../../../nirpendra.kumar/mypersonal-doc.git/fonts/fontawesome/css/fontawesome-all.min.css?1757062749" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../nirpendra.kumar/mypersonal-doc.git/fonts/fontawesome/css/fontawesome-all.min.css?1757062749" rel="stylesheet"></noscript>
    <link href="../../../nirpendra.kumar/mypersonal-doc.git/css/perfect-scrollbar/perfect-scrollbar.min.css?1757062749" rel="stylesheet">
    <link href="../../../css/theme.css?1757062749" rel="stylesheet">
    <link href="../../../css/format-html.css?1757062749" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/docs\/docker\/conatiner02\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313\/nirpendra.kumar\/mypersonal-doc.git';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'auto' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="../../../docs/docker/conatiner02/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#open-container-initiative-oci-and-container-standards">Open Container Initiative (OCI) and Container Standards</a></li>
    <li><a href="#what-is-oci">What is OCI?</a></li>
    <li><a href="#key-oci-specifications">Key OCI Specifications</a></li>
    <li><a href="#why-oci-matters">Why OCI Matters</a></li>
    <li><a href="#related-concepts">Related Concepts</a></li>
    <li><a href="#summary-table">Summary Table</a></li>
  </ul>

  <ul>
    <li><a href="#container-runtimes">Container Runtimes</a>
      <ul>
        <li><a href="#1-runc">1. runc</a></li>
        <li><a href="#2-containerd">2. containerd</a></li>
        <li><a href="#3-cri-o">3. CRI-O</a></li>
      </ul>
    </li>
    <li><a href="#container-image-formats-oci-vs-docker">Container Image Formats: OCI vs Docker</a>
      <ul>
        <li><a href="#docker-image-format">Docker Image Format</a></li>
        <li><a href="#oci-image-format">OCI Image Format</a></li>
        <li><a href="#key-differences">Key Differences</a></li>
        <li><a href="#why-it-matters">Why It Matters</a></li>
      </ul>
    </li>
    <li><a href="#summary-table-1">Summary Table</a></li>
  </ul>

  <ul>
    <li><a href="#what-is-a-container-runtime">What is a Container Runtime?</a></li>
    <li><a href="#high-level-vs-low-level-container-runtimes">High-Level vs Low-Level Container Runtimes</a></li>
    <li><a href="#how-they-work-together">How They Work Together</a></li>
    <li><a href="#examples">Examples</a></li>
    <li><a href="#why-this-design">Why This Design?</a></li>
    <li><a href="#summary-table-2">Summary Table</a></li>
    <li><a href="#using-multiple-low-level-container-runtimes">Using Multiple Low-Level Container Runtimes</a></li>
    <li><a href="#can-we-have-multiple-low-level-runtimes">Can We Have Multiple Low-Level Runtimes?</a></li>
    <li><a href="#why-use-multiple-low-level-runtimes">Why Use Multiple Low-Level Runtimes?</a></li>
    <li><a href="#how-to-configure-multiple-runtimes-in-containerd">How to Configure Multiple Runtimes in containerd</a></li>
    <li><a href="#selecting-runtime-per-container-or-pod">Selecting Runtime Per Container or Pod</a></li>
    <li><a href="#commands-to-verify-installed-container-runtimes">Commands to Verify Installed Container Runtimes</a>
      <ul>
        <li><a href="#check-installed-low-level-runtimes-common-locations">Check installed low-level runtimes (common locations)</a></li>
        <li><a href="#check-running-containerd-service">Check running containerd service</a></li>
        <li><a href="#verify-configured-runtimes-in-containerd-config">Verify configured runtimes in containerd config</a></li>
        <li><a href="#check-default-runtime-docker-uses">Check default runtime Docker uses</a></li>
        <li><a href="#kubectl-get-runtimeclass">kubectl get runtimeclass</a></li>
        <li><a href="#inspect-container-runtime-for-a-specific-pod">Inspect container runtime for a specific pod</a></li>
      </ul>
    </li>
    <li><a href="#containers-under-the-hood-the-core-concepts">Containers Under the Hood: The Core Concepts</a>
      <ul>
        <li><a href="#1-linux-namespaces--isolation">1. Linux Namespaces – Isolation</a></li>
        <li><a href="#2-control-groups-cgroups--resource-management">2. Control Groups (cgroups) – Resource Management</a></li>
        <li><a href="#3-union-file-systems-overlayfs-aufs-etc--efficient-storage">3. Union File Systems (OverlayFS, AUFS, etc.) – Efficient Storage</a></li>
        <li><a href="#4-container-runtime">4. Container Runtime</a></li>
        <li><a href="#5-networking">5. Networking</a></li>
        <li><a href="#6-process-lifecycle">6. Process Lifecycle</a></li>
        <li><a href="#summary">Summary</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="../../../index.html"><span itemprop="name">My docs</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="../../../docs/index.html"><span itemprop="name">My Docs</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">OCI</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../docs/innersource-onprem/index.html" title="Innersource onpPrem  (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../docs/ex280/index.html" title="OpenShift EX280 Practice  (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable docs" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="oci">OCI</h1>

<h2 id="open-container-initiative-oci-and-container-standards">Open Container Initiative (OCI) and Container Standards</h2>
<h2 id="what-is-oci">What is OCI?</h2>
<p>The <strong>Open Container Initiative (OCI)</strong> is an open governance project under the Linux Foundation started in 2015. It creates open standards for container formats and runtimes to ensure interoperability and portability across container platforms.</p>
<h2 id="key-oci-specifications">Key OCI Specifications</h2>
<ol>
<li>
<p><strong>OCI Image Format Specification</strong><br>
Defines a standard image format including layers, manifests, and metadata so images are portable across tools.</p>
</li>
<li>
<p><strong>OCI Runtime Specification</strong><br>
Defines how to run containers using namespaces, cgroups, hooks, and other OS features.</p>
</li>
<li>
<p><strong>OCI Distribution Specification</strong><br>
Defines how images are pushed and pulled from registries.</p>
</li>
</ol>
<h2 id="why-oci-matters">Why OCI Matters</h2>
<p>Before OCI, different tools had incompatible container formats and runtimes leading to vendor lock-in and fragmentation. OCI solves this by standardizing image and runtime formats.</p>
<h2 id="related-concepts">Related Concepts</h2>
<ul>
<li><strong>Docker Image</strong>: Initially a proprietary format; now OCI compatible.</li>
<li><strong>runc</strong>: Reference OCI runtime implementation.</li>
<li><strong>containerd</strong>: Daemon managing container lifecycle and image transfer, built on OCI specs.</li>
<li><strong>CRI-O</strong>: Kubernetes container runtime that uses OCI standards.</li>
<li><strong>Kubernetes</strong>: Container orchestration platform supporting OCI images and runtimes.</li>
</ul>
<h2 id="summary-table">Summary Table</h2>
<table>
  <thead>
      <tr>
          <th>Term</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>OCI</strong></td>
          <td>Open standards for container images and runtimes.</td>
      </tr>
      <tr>
          <td><strong>OCI Image Spec</strong></td>
          <td>Defines container image format.</td>
      </tr>
      <tr>
          <td><strong>OCI Runtime Spec</strong></td>
          <td>Defines container runtime behavior.</td>
      </tr>
      <tr>
          <td><strong>Docker Image</strong></td>
          <td>Container image format compatible with OCI.</td>
      </tr>
      <tr>
          <td><strong>runc</strong></td>
          <td>Reference OCI runtime implementation.</td>
      </tr>
      <tr>
          <td><strong>containerd</strong></td>
          <td>Container runtime daemon implementing OCI specs.</td>
      </tr>
      <tr>
          <td><strong>CRI-O</strong></td>
          <td>Kubernetes runtime using OCI standards.</td>
      </tr>
  </tbody>
</table>
<h1 id="container-runtimes-and-image-formats-explained">Container Runtimes and Image Formats Explained</h1>
<h2 id="container-runtimes">Container Runtimes</h2>
<p>A <strong>container runtime</strong> is the software responsible for running containers according to the container image and runtime specifications. It handles creating the container, setting up namespaces, cgroups, and other OS-level features.</p>
<h3 id="1-runc">1. runc</h3>
<ul>
<li><strong>What is it?</strong><br>
<code>runc</code> is the reference implementation of the <a href="https://github.com/opencontainers/runtime-spec" rel="external" target="_blank">OCI Runtime Specification</a>.</li>
<li><strong>Role:</strong><br>
It is a lightweight CLI tool to spawn and run containers using Linux namespaces, cgroups, and other kernel features.</li>
<li><strong>Usage:</strong><br>
<code>runc</code> itself is mostly used as a low-level component by other container engines.</li>
<li><strong>Example:</strong><br>
Docker and containerd use <code>runc</code> under the hood to create and run containers.</li>
</ul>
<h3 id="2-containerd">2. containerd</h3>
<ul>
<li><strong>What is it?</strong><br>
<code>containerd</code> is a daemon that manages the entire container lifecycle: image transfer, container execution, storage, and supervision.</li>
<li><strong>Role:</strong><br>
Acts as an industry-standard container runtime daemon that uses <code>runc</code> for low-level container execution.</li>
<li><strong>Features:</strong>
<ul>
<li>Pull and manage container images.</li>
<li>Manage container snapshots and storage.</li>
<li>Manage container execution and lifecycle.</li>
</ul>
</li>
<li><strong>Usage:</strong><br>
Widely used by Docker (as its runtime backend) and Kubernetes (via CRI plugins).</li>
</ul>
<h3 id="3-cri-o">3. CRI-O</h3>
<ul>
<li><strong>What is it?</strong><br>
CRI-O is an OCI-compliant container runtime specifically designed for Kubernetes.</li>
<li><strong>Role:</strong><br>
Provides a lightweight runtime focused solely on Kubernetes&rsquo; Container Runtime Interface (CRI).</li>
<li><strong>Features:</strong>
<ul>
<li>Supports OCI images and runtimes.</li>
<li>Integrates tightly with Kubernetes.</li>
<li>Avoids unnecessary components to reduce overhead.</li>
</ul>
</li>
<li><strong>Usage:</strong><br>
An alternative to <code>containerd</code> for Kubernetes environments.</li>
</ul>
<hr>
<h2 id="container-image-formats-oci-vs-docker">Container Image Formats: OCI vs Docker</h2>
<h3 id="docker-image-format">Docker Image Format</h3>
<ul>
<li>Originally developed by Docker Inc.</li>
<li>Used proprietary format with JSON manifests and layers.</li>
<li>Early versions had some incompatibilities with other runtimes.</li>
</ul>
<h3 id="oci-image-format">OCI Image Format</h3>
<ul>
<li>Created by the Open Container Initiative (OCI) to standardize container images.</li>
<li>Based on the Docker image format but with a well-defined spec for manifests, layers, and configuration.</li>
<li>Ensures that images built by any OCI-compliant tool can run anywhere.</li>
</ul>
<h3 id="key-differences">Key Differences</h3>
<table>
  <thead>
      <tr>
          <th>Feature</th>
          <th>Docker Image Format</th>
          <th>OCI Image Format</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Origin</td>
          <td>Docker Inc.</td>
          <td>Open Container Initiative (Linux Foundation)</td>
      </tr>
      <tr>
          <td>Specification</td>
          <td>Initially proprietary</td>
          <td>Open, community-driven specification</td>
      </tr>
      <tr>
          <td>Compatibility</td>
          <td>Supported by Docker and many runtimes</td>
          <td>Supported by Docker, containerd, Podman, CRI-O</td>
      </tr>
      <tr>
          <td>Focus</td>
          <td>Docker ecosystem</td>
          <td>Interoperability and standardization</td>
      </tr>
  </tbody>
</table>
<h3 id="why-it-matters">Why It Matters</h3>
<ul>
<li>The OCI image format promotes portability and interoperability across container tools and platforms.</li>
<li>Most modern container tools now support OCI images as a standard.</li>
</ul>
<hr>
<h2 id="summary-table-1">Summary Table</h2>
<table>
  <thead>
      <tr>
          <th>Term</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>runc</strong></td>
          <td>Reference OCI runtime; low-level container executor using Linux kernel features.</td>
      </tr>
      <tr>
          <td><strong>containerd</strong></td>
          <td>Container runtime daemon managing lifecycle, image transfer, storage; uses <code>runc</code> internally.</td>
      </tr>
      <tr>
          <td><strong>CRI-O</strong></td>
          <td>Lightweight Kubernetes-focused OCI runtime implementing CRI interface.</td>
      </tr>
      <tr>
          <td><strong>Docker Image</strong></td>
          <td>Original Docker container image format, now largely compatible with OCI images.</td>
      </tr>
      <tr>
          <td><strong>OCI Image</strong></td>
          <td>Open standard container image format promoting portability and interoperability.</td>
      </tr>
  </tbody>
</table>
<hr>
<h1 id="container-runtimes-high-level-vs-low-level-explained">Container Runtimes: High-Level vs Low-Level Explained</h1>
<hr>
<h2 id="what-is-a-container-runtime">What is a Container Runtime?</h2>
<p>A container runtime is software that runs containers by managing container lifecycle, image handling, and execution.</p>
<hr>
<h2 id="high-level-vs-low-level-container-runtimes">High-Level vs Low-Level Container Runtimes</h2>
<table>
  <thead>
      <tr>
          <th>Aspect</th>
          <th>High-Level Runtime</th>
          <th>Low-Level Runtime (OCI Runtime)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Role</strong></td>
          <td>Manages container lifecycle, image pull, storage, networking, etc.</td>
          <td>Creates and runs containers using kernel features like namespaces and cgroups</td>
      </tr>
      <tr>
          <td><strong>Examples</strong></td>
          <td>containerd, CRI-O, Docker Engine</td>
          <td>runc, crun, kata-runtime</td>
      </tr>
      <tr>
          <td><strong>Responsibilities</strong></td>
          <td>- Pull and manage images<!-- raw HTML omitted -->- Manage container lifecycle (start, stop)<!-- raw HTML omitted -->- Handle storage and snapshots<!-- raw HTML omitted -->- Provide API for orchestration tools</td>
          <td>- Spawn container processes<!-- raw HTML omitted -->- Set up namespaces, cgroups, capabilities<!-- raw HTML omitted -->- Execute container according to OCI runtime spec</td>
      </tr>
      <tr>
          <td><strong>Interaction</strong></td>
          <td>Calls low-level runtime to actually start containers</td>
          <td>Runs as subprocess invoked by high-level runtime</td>
      </tr>
      <tr>
          <td><strong>Usage in Kubernetes</strong></td>
          <td>containerd and CRI-O implement Kubernetes CRI interface</td>
          <td>Usually runc (or alternative OCI runtimes) used by containerd or CRI-O to execute containers</td>
      </tr>
      <tr>
          <td><strong>Installation</strong></td>
          <td>Runs as daemon/service</td>
          <td>CLI tools or plugins</td>
      </tr>
      <tr>
          <td><strong>Complexity</strong></td>
          <td>More complex, handles many aspects of container lifecycle</td>
          <td>Lightweight, focused on execution only</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="how-they-work-together">How They Work Together</h2>
<ul>
<li>The <strong>high-level runtime</strong> manages everything except the actual container start.</li>
<li>When a container needs to start, the high-level runtime calls the <strong>low-level runtime</strong>.</li>
<li>The <strong>low-level runtime</strong> (like <code>runc</code>) creates the container process using Linux kernel primitives (namespaces, cgroups).</li>
<li>This separation enables modularity, flexibility, and easier maintenance.</li>
</ul>
<hr>
<h2 id="examples">Examples</h2>
<table>
  <thead>
      <tr>
          <th>High-Level Runtime</th>
          <th>Low-Level Runtime (OCI Runtime)</th>
          <th>Notes</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Docker Engine</td>
          <td>runc</td>
          <td>Docker uses containerd and runc</td>
      </tr>
      <tr>
          <td>containerd</td>
          <td>runc or crun</td>
          <td>Kubernetes often uses this combo</td>
      </tr>
      <tr>
          <td>CRI-O</td>
          <td>runc or crun</td>
          <td>Kubernetes-focused lightweight runtime</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="why-this-design">Why This Design?</h2>
<ul>
<li><strong>Modularity:</strong> Easier to swap out low-level runtimes without changing lifecycle management.</li>
<li><strong>Standardization:</strong> <code>runc</code> follows OCI spec as a reference runtime.</li>
<li><strong>Performance &amp; Security:</strong> Alternative runtimes like <code>crun</code>, <code>kata-runtime</code>, or <code>gvisor</code> can be plugged in for specialized needs.</li>
</ul>
<hr>
<h2 id="summary-table-2">Summary Table</h2>
<table>
  <thead>
      <tr>
          <th>Component</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>High-Level Runtime</strong></td>
          <td>Container lifecycle, image management, API</td>
      </tr>
      <tr>
          <td><strong>Low-Level Runtime</strong></td>
          <td>Runs containers using kernel features</td>
      </tr>
      <tr>
          <td><strong>runc</strong></td>
          <td>Reference low-level OCI runtime</td>
      </tr>
      <tr>
          <td><strong>containerd</strong></td>
          <td>Popular high-level runtime daemon</td>
      </tr>
      <tr>
          <td><strong>CRI-O</strong></td>
          <td>Kubernetes-specific high-level runtime</td>
      </tr>
      <tr>
          <td><strong>crun</strong></td>
          <td>Lightweight alternative low-level runtime</td>
      </tr>
      <tr>
          <td><strong>kata-runtime</strong></td>
          <td>VM-based low-level runtime for enhanced security</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="using-multiple-low-level-container-runtimes">Using Multiple Low-Level Container Runtimes</h2>
<hr>
<h2 id="can-we-have-multiple-low-level-runtimes">Can We Have Multiple Low-Level Runtimes?</h2>
<p>Yes, it is possible and common to have <strong>multiple low-level runtimes</strong> installed and configured on the same system.</p>
<hr>
<h2 id="why-use-multiple-low-level-runtimes">Why Use Multiple Low-Level Runtimes?</h2>
<ul>
<li>Different workloads may require different runtimes for:
<ul>
<li><strong>Performance</strong> (e.g., <code>crun</code> is faster and lighter than <code>runc</code>)</li>
<li><strong>Security</strong> (e.g., <code>kata-runtime</code> provides VM-level isolation)</li>
<li><strong>Specialized environments</strong> or sandboxing</li>
</ul>
</li>
</ul>
<hr>
<h2 id="how-to-configure-multiple-runtimes-in-containerd">How to Configure Multiple Runtimes in containerd</h2>
<p>In the containerd configuration file (<code>/etc/containerd/config.toml</code>), you can define multiple runtimes:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">cri</span>.<span style="color:#a6e22e">containerd</span>.<span style="color:#a6e22e">runtimes</span>.<span style="color:#a6e22e">runc</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">runtime_type</span> = <span style="color:#e6db74">&#34;io.containerd.runc.v2&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">runtime_engine</span> = <span style="color:#e6db74">&#34;/usr/bin/runc&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">cri</span>.<span style="color:#a6e22e">containerd</span>.<span style="color:#a6e22e">runtimes</span>.<span style="color:#a6e22e">crun</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">runtime_type</span> = <span style="color:#e6db74">&#34;io.containerd.runc.v2&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">runtime_engine</span> = <span style="color:#e6db74">&#34;/usr/bin/crun&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">cri</span>.<span style="color:#a6e22e">containerd</span>.<span style="color:#a6e22e">runtimes</span>.<span style="color:#a6e22e">kata</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">runtime_type</span> = <span style="color:#e6db74">&#34;io.containerd.kata.v2&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">runtime_engine</span> = <span style="color:#e6db74">&#34;/usr/bin/kata-runtime&#34;</span></span></span></code></pre></div>
<h2 id="selecting-runtime-per-container-or-pod">Selecting Runtime Per Container or Pod</h2>
<ul>
<li>When creating containers or pods, specify which runtime to use.</li>
<li>In Kubernetes, this is done via RuntimeClass.
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span> apiVersion: node.k8s.io/v1
</span></span><span style="display:flex;"><span> kind: RuntimeClass
</span></span><span style="display:flex;"><span> metadata:
</span></span><span style="display:flex;"><span> name: kata
</span></span><span style="display:flex;"><span> handler: kata</span></span></code></pre></div>
</li>
</ul>
<h2 id="commands-to-verify-installed-container-runtimes">Commands to Verify Installed Container Runtimes</h2>
<hr>
<h3 id="check-installed-low-level-runtimes-common-locations">Check installed low-level runtimes (common locations)</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>which runc
</span></span><span style="display:flex;"><span>which crun
</span></span><span style="display:flex;"><span>which kata-runtime</span></span></code></pre></div>
<h3 id="check-running-containerd-service">Check running containerd service</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>systemctl status containerd
</span></span><span style="display:flex;"><span>ps aux | grep containerd</span></span></code></pre></div>
<h3 id="verify-configured-runtimes-in-containerd-config">Verify configured runtimes in containerd config</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cat /etc/containerd/config.toml | grep -A <span style="color:#ae81ff">5</span> runtimes</span></span></code></pre></div>
<h3 id="check-default-runtime-docker-uses">Check default runtime Docker uses</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>docker info | grep -i runtime</span></span></code></pre></div>
<h3 id="kubectl-get-runtimeclass">kubectl get runtimeclass</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>kubectl get runtimeclass</span></span></code></pre></div>
<h3 id="inspect-container-runtime-for-a-specific-pod">Inspect container runtime for a specific pod</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>kubectl get pod &lt;pod-name&gt; -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;{.spec.runtimeClassName}&#39;</span></span></span></code></pre></div>
<h2 id="containers-under-the-hood-the-core-concepts">Containers Under the Hood: The Core Concepts</h2>
<h3 id="1-linux-namespaces--isolation">1. Linux Namespaces – Isolation</h3>
<p>Namespaces provide <strong>process isolation</strong> by creating separate instances of global system resources for each container. This ensures that containers have their own view of:</p>
<ul>
<li><strong>PID namespace:</strong> Separate process IDs inside each container (process 1 inside container ≠ host process 1)</li>
<li><strong>Mount namespace:</strong> Isolated filesystem mount points</li>
<li><strong>Network namespace:</strong> Independent network interfaces, IP addresses, and ports</li>
<li><strong>UTS namespace:</strong> Separate hostname and domain name</li>
<li><strong>IPC namespace:</strong> Isolated inter-process communication mechanisms (message queues, semaphores)</li>
<li><strong>User namespace:</strong> Maps user and group IDs, allowing privilege isolation</li>
<li><strong>Cgroup namespace:</strong> Isolated view of control groups (resource groups)</li>
</ul>
<hr>
<h3 id="2-control-groups-cgroups--resource-management">2. Control Groups (cgroups) – Resource Management</h3>
<p>Cgroups limit and prioritize the resources (CPU, memory, disk I/O, network) that containers can use. This prevents one container from hogging all system resources and impacting others.</p>
<ul>
<li>You can set limits like max CPU shares or memory usage</li>
<li>The kernel enforces these limits at runtime</li>
<li>Important for multi-tenant environments and resource fairness</li>
</ul>
<hr>
<h3 id="3-union-file-systems-overlayfs-aufs-etc--efficient-storage">3. Union File Systems (OverlayFS, AUFS, etc.) – Efficient Storage</h3>
<p>Containers use union filesystems to build layered images efficiently:</p>
<ul>
<li>Base OS layers + application layers stacked without duplication</li>
<li>Containers share read-only layers; only container-specific changes are stored separately (copy-on-write)</li>
<li>This reduces storage space and speeds up container start times</li>
</ul>
<hr>
<h3 id="4-container-runtime">4. Container Runtime</h3>
<p>The container runtime (e.g., <strong>containerd</strong>, <strong>CRI-O</strong>, or Docker Engine) is responsible for:</p>
<ul>
<li>Creating namespaces and cgroups</li>
<li>Setting up network interfaces (via CNI plugins)</li>
<li>Mounting the filesystem layers</li>
<li>Starting and managing container processes</li>
</ul>
<hr>
<h3 id="5-networking">5. Networking</h3>
<p>Containers get isolated network stacks:</p>
<ul>
<li>Virtual Ethernet interfaces (veth pairs) connect container namespace to host network bridge</li>
<li>IP addresses assigned per container</li>
<li>Network policies enforce traffic rules (firewalls, routing)</li>
</ul>
<hr>
<h3 id="6-process-lifecycle">6. Process Lifecycle</h3>
<p>Containers run as regular processes on the host but inside isolated namespaces and resource limits:</p>
<ul>
<li>PID 1 inside the container is typically the main application process</li>
<li>Signals and process control are managed inside namespaces, isolated from the host</li>
</ul>
<hr>
<h3 id="summary">Summary</h3>
<p>Containers combine Linux kernel features (namespaces + cgroups + union filesystems) with runtime tooling to create <strong>lightweight, isolated, and resource-controlled environments</strong> for running applications consistently anywhere.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
          <a id="R-logo" class="R-default" href="../../../index.html">
            <div class="logo-title">My Doc</div>
          </a>
        </div>
        <search><form action="../../../search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/index.html"><a class="padding" href="../../../index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="parent " data-nav-id="/docs/index.html"><a class="padding" href="../../../docs/index.html">My Docs</a><ul id="R-subsections-b5fa667da3c6d162416dac7e8c63bf8a" class="collapsible-menu">
            <li class="" data-nav-id="/docs/env-details/index.html"><a class="padding" href="../../../docs/env-details/index.html">All App Urls</a></li>
            <li class="" data-nav-id="/docs/aviprd/index.html"><a class="padding" href="../../../docs/aviprd/index.html">AvI PRD</a></li>
            <li class="" data-nav-id="/docs/avistg/index.html"><a class="padding" href="../../../docs/avistg/index.html">AvI Stg</a></li>
            <li class="" data-nav-id="/docs/docker/container01/index.html"><a class="padding" href="../../../docs/docker/container01/index.html">Conatiner 01</a></li>
            <li class="" data-nav-id="/docs/frequentissues/index.html"><a class="padding" href="../../../docs/frequentissues/index.html">Frequent issues</a></li>
            <li class="" data-nav-id="/docs/innersource-onprem/index.html"><a class="padding" href="../../../docs/innersource-onprem/index.html">Innersource onpPrem </a></li>
            <li class="active " data-nav-id="/docs/docker/conatiner02/index.html"><a class="padding" href="../../../docs/docker/conatiner02/index.html">OCI</a></li>
            <li class="" data-nav-id="/docs/ex280/index.html"><a class="padding" href="../../../docs/ex280/index.html">OpenShift EX280 Practice </a></li>
            <li class="" data-nav-id="/docs/ex280-01/index.html"><a class="padding" href="../../../docs/ex280-01/index.html">OpenShift EX280 Practice with Solution</a></li>
            <li class="" data-nav-id="/docs/docker/container03/index.html"><a class="padding" href="../../../docs/docker/container03/index.html">Security</a></li>
            <li class="" data-nav-id="/docs/tasks/index.html"><a class="padding" href="../../../docs/tasks/index.html">Tasks to do </a></li>
            <li class="" data-nav-id="/docs/vmware-tanzu/index.html"><a class="padding" href="../../../docs/vmware-tanzu/index.html">VMware Tanzu Terms</a></li>
            <li class="" data-nav-id="/docs/vmware/index.html"><a class="padding" href="../../../docs/vmware/index.html">VMware Upgrade Cheat Sheet</a></li>
            <li class="" data-nav-id="/docs/aws-gitlab-stg/index.html"><a class="padding" href="../../../docs/aws-gitlab-stg/index.html">Gitlab on AWS Using Gitlab Environment Toolkit</a></li>
            <li class="" data-nav-id="/docs/kube-virt/index.html"><a class="padding" href="../../../docs/kube-virt/index.html">Openshift Virtualization</a></li></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p></div>
      </div>
    </aside>
    <script src="../../../nirpendra.kumar/mypersonal-doc.git/js/clipboard/clipboard.min.js?1757062749" defer></script>
    <script src="../../../nirpendra.kumar/mypersonal-doc.git/js/perfect-scrollbar/perfect-scrollbar.min.js?1757062749" defer></script>
    <script src="../../../nirpendra.kumar/mypersonal-doc.git/js/theme.js?1757062749" defer></script>
  </body>
</html>
